sap.ui.define([
	"com/publix/servtech/controller/BaseController",
	"sap/ui/model/json/JSONModel",
	"sap/ui/Device",
	"sap/m/MessageToast"

], function(BaseController, JSONModel, Device, MessageToast) {
	"use strict";

	return BaseController.extend("com.publix.servtech.controller.Photos", {

		/**
		 * Called when a controller is instantiated and its View controls (if available) are already created.
		 * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.
		 * @memberOf com.publix.servtech.view.Photos
		 */
		onInit: function() {
			window.oView = this.getView();
			var bIsPhone = Device.system.phone;
			var oViewModel = new JSONModel({
				busy: false,
				delay: 0,
				imageWidth: bIsPhone ? "10em" : "20em"
			});

			this.setModel(oViewModel, "photosView");

			this.getRouter().getRoute("photos").attachPatternMatched(this._onObjectMatched, this);

		},

		_onObjectMatched: function(oEvent) {
			window.thatis = this;
			var oViewModel = this.getModel("photosView");
			var objectId = oEvent.getParameter("arguments").objectId;
			oViewModel.setProperty("/Number", objectId);
			if (navigator && navigator.camera) {
				var oNav = navigator.camera;
				oNav.getPicture(this.onPhotoDataSuccess, this.onPhotoDataFail, {
					quality: 100,
					targetWidth: 300,
					targetHeight: 300,
					sourceType: navigator.camera.PictureSourceType.CAMERA,
					destinationType: navigator.camera.DestinationType.DATA_URL
				});
			} else {
				var imageData =
					"/9j/4AAQSkZJRgABAQEAYABgAAD/4RDERXhpZgAATU0AKgAAAAgABAE7AAIAAAAbAAAISodpAAQAAAABAAAIZpydAAEAAAA2AAAQhuocAAcAAAgMAAAAPgAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEJoYXNrYXIgQnVycmEgKENvbnRyYWN0b3IpAAAAAeocAAcAAAgMAAAIeAAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQgBoAGEAcwBrAGEAcgAgAEIAdQByAHIAYQAgACgAQwBvAG4AdAByAGEAYwB0AG8AcgApAAAA/+EKc2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4NCjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iPjxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+PHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6ZmFmNWJkZDUtYmEzZC0xMWRhLWFkMzEtZDMzZDc1MTgyZjFiIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iLz48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+PGRjOmNyZWF0b3I+PHJkZjpTZXEgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj48cmRmOmxpPkJoYXNrYXIgQnVycmEgKENvbnRyYWN0b3IpPC9yZGY6bGk+PC9yZGY6U2VxPg0KCQkJPC9kYzpjcmVhdG9yPjwvcmRmOkRlc2NyaXB0aW9uPjwvcmRmOlJERj48L3g6eG1wbWV0YT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0ndyc/Pv/bAEMABwUFBgUEBwYFBggHBwgKEQsKCQkKFQ8QDBEYFRoZGBUYFxseJyEbHSUdFxgiLiIlKCkrLCsaIC8zLyoyJyorKv/bAEMBBwgICgkKFAsLFCocGBwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKv/AABEIAQYA5wMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAA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"
				var thisview = sap.ui.getCore().byId("application-ServiceTechnician-display-component---photos")
				var imageId = thisview.byId("myImage");
				imageId.setSrc("data:image/jpeg;base64," + imageData);
				MessageToast.show("Camera is not available.");
			}
		},

		onPhotoDataFail: function(message) {
			MessageToast.show("Failed because: " + message);
		},

		onPhotoDataSuccess: function(imageData) {
			var thisview = sap.ui.getCore().byId("application-ZSRVTECH-display-component---photos")
			thisview.getModel("photosView").setProperty("/imageData", imageData);
			var imageId = thisview.byId("myImage");
			imageId.setSrc("data:image/jpeg;base64," + imageData);
			//imageData="/9j/4AAQSkZJRgABAQEAYABgAAD/4RDERXhpZgAATU0AKgAAAAgABAE7AAIAAAAbAAAISodpAAQAAAABAAAIZpydAAEAAAA2AAAQhuocAAcAAAgMAAAAPgAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEJoYXNrYXIgQnVycmEgKENvbnRyYWN0b3IpAAAAAeocAAcAAAgMAAAIeAAAAAAc6gAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQgBoAGEAcwBrAGEAcgAgAEIAdQByAHIAYQAgACgAQwBvAG4AdAByAGEAYwB0AG8AcgApAAAA/+EKc2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4NCjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iPjxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+PHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9InV1aWQ6ZmFmNWJkZDUtYmEzZC0xMWRhLWFkMzEtZDMzZDc1MTgyZjFiIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iLz48cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0idXVpZDpmYWY1YmRkNS1iYTNkLTExZGEtYWQzMS1kMzNkNzUxODJmMWIiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyI+PGRjOmNyZWF0b3I+PHJkZjpTZXEgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj48cmRmOmxpPkJoYXNrYXIgQnVycmEgKENvbnRyYWN0b3IpPC9yZGY6bGk+PC9yZGY6U2VxPg0KCQkJPC9kYzpjcmVhdG9yPjwvcmRmOkRlc2NyaXB0aW9uPjwvcmRmOlJERj48L3g6eG1wbWV0YT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0ndyc/Pv/bAEMABwUFBgUEBwYFBggHBwgKEQsKCQkKFQ8QDBEYFRoZGBUYFxseJyEbHSUdFxgiLiIlKCkrLCsaIC8zLyoyJyorKv/bAEMBBwgICgkKFAsLFCocGBwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKv/AABEIAQYA5wMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAA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"

			// var OrderNumber = window.oView.byId("objectHeader").getTitle();
			// var oModel = window.oView.getModel();
			// var oEntry = {};
			// oModel.setHeaders({"Content-Type" : "image/jpeg"});

			// // Check Metadata and the payload parameterters should match the properties of the entitySet
			// oEntry.Orderid = OrderNumber;
			// oEntry.mime_type = "jpg";
			// oEntry.value = imageData;
			// oEntry.fileName = "testImage";
			// oModel.create("/SO_header1Set('" + oEntry.Orderid + "')/Header2Image_Nav", imageData, {
			// 	method: "POST",
			// 	success: function(data) {
			// 		MessageToast.show("Image Upload Success");
			// 	},
			// 	error: function(e) {
			// 		MessageToast.show("Image Upload failed");
			// 	}
			// });

			/* this is UI5 FileUploader plugin which is used for file Upload */
			// var oMdel = window.Photothis.getOwnerComponent().getModel();
			// var orderNum = window.oView.byId("objectHeader").getTitle();
			// //	myImage.setSrc("data:image/jpeg;base64," + imageData);
			// //this.openUploadDialog(oMdel, this.getView().byId("objectHeader").getTitle());
			// oMdel.refreshSecurityToken();
			// // prepare the FileUploader control
			// var oFileUploader = new sap.ui.unified.FileUploader({
			// 	uploadUrl: "/sap/opu/odata/sap/ZFIORI_NAVI_ASSOC_SRV/SO_header1Set('" + orderNum + "')/Header2Image_Nav",
			// 	name: "simpleUploader",
			// 	uploadOnChange: false,
			// 	sendXHR: true,
			// 	useMultipart: false,
			// 	headerParameters: [
			// 		new sap.ui.unified.FileUploaderParameter({
			// 			name: "x-csrf-token",
			// 			value: oMdel.getHeaders()['x-csrf-token']
			// 		})
			// 	],
			// 	uploadComplete: function(oEvent) {
			// 		var sResponse = oEvent.getParameter("response");
			// 		if (sResponse) {
			// 			sap.ui.commons.MessageBox.show("Return Code: " + sResponse, "Response", "Response");
			// 		}
			// 	}
			// });

			// // call the upload method
			// oFileUploader.insertHeaderParameter(new sap.ui.unified.FileUploaderParameter({
			// 	name: "slug",
			// 	value: imageData
			// }));
			// oFileUploader.upload();
		},

		onPhotoSave: function() {
			var OrderNumber = this.getView().getModel("photosView").getProperty("/Number");
			var imageData = this.getView().getModel("photosView").getProperty("/imageData");

			var token;
			jQuery.ajax({
				url: "/sap/opu/odata/sap/ZFIORI_NAVI_ASSOC_SRV/$metadata",
				type: "GET",
				async: false,
				beforeSend: function(xhr) {
					xhr.setRequestHeader("X-CSRF-Token", "Fetch");
					xhr.setRequestHeader("Content-Type", "image/jpeg");
					xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
				},
				success: function(data, textStatus, xhr) {
					token = xhr.getResponseHeader("X-CSRF-Token");
				}
			});

			$.ajaxSetup({
				cache: false
			});

			jQuery.ajax({
				url: "/sap/opu/odata/sap/ZFIORI_NAVI_ASSOC_SRV/SO_header1Set('" + OrderNumber + "')/Header2Image_Nav",
				async: false,
				// dataType: "text",
				cache: false,
				data: imageData,
				type: "POST",
				beforeSend: function(xhr) {
					xhr.setRequestHeader("X-CSRF-Token", token);
					// xhr.setRequestHeader("Content-Type", "application/text;charset=UTF-8");
					// xhr.setRequestHeader("Content-Type", "image/jpeg;charset=UTF-8");
					xhr.setRequestHeader("Content-Type", "image/jpeg");
					xhr.setRequestHeader("slug", "MTR,100001,10412,001");
				},
				success: function(odata) {
					MessageToast.show("Image Upload Success");
					// document.location.reload(true);
				},
				error: function(odata) {
					// if (navigator.connection.type == Connection.NONE) {
					// 	navigator.notification.alert("No Intenet Connection available");
					// 	MessageToast.show("No Intenet Connection available");
					// } else {
						MessageToast.show("Image Upload error");
					// }
				}
			});
		}

		/**
		 * Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered
		 * (NOT before the first rendering! onInit() is used for that one!).
		 * @memberOf com.publix.servtech.view.Photos
		 */
		//	onBeforeRendering: function() {
		//
		//	},

		/**
		 * Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.
		 * This hook is the same one that SAPUI5 controls get after being rendered.
		 * @memberOf com.publix.servtech.view.Photos
		 */
		//	onAfterRendering: function() {
		//
		//	},

		/**
		 * Called when the Controller is destroyed. Use this one to free resources and finalize activities.
		 * @memberOf com.publix.servtech.view.Photos
		 */
		//	onExit: function() {
		//
		//	}

	});

});